$(window).load(function(){$('body').removeClass('preload');});$(document).on('click','a[data-apply-button]',function(e){var $this=$(this),label=$this.attr('data-apply-button');ga('send','event','"Apply" CTA','click',label);});$('#newsletter-signup-form').on('submit',function(evt){var $form=$(this),$emailInput=$form.find('#newsletter-email-input'),$formInputs=$form.find('.hook--newsletter-signup-form__input'),$resultElement=$form.find('#newsletter-signup-result');var displayValidationError=function(){$resultElement.text('Please enter a valid email address.');};evt.preventDefault();if($emailInput.val().length>3){$.ajax({url:'//devbootcamp.us2.list-manage.com/subscribe/post-json?u=208c2e37446472f0a65c1a127&id=a4766f6720',type:'GET',dataType:'jsonp',jsonp:'c',data:$form.serialize()}).done(function(data){if(data.result!=='success'){displayValidationError();}else{$formInputs.hide();$resultElement.text('Thanks for subscribing! Check your email to complete your subscription.');}});}
else{displayValidationError();}});if($('main').is('#root')){$('#san-francisco-meetup-events').meetupEventFetcher({signedUrl:'https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_urlname=DBCx-SF-Dev-Bootcamp-San-Francisco-Open-Learning&page=1&fields=&order=time&desc=false&status=upcoming&sig_id=145924542&sig=e466b632b5ad07bbb6587771283236ef93def4f3'});$('#chicago-meetup-events').meetupEventFetcher({signedUrl:'https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_urlname=Chicago-DevBootcamp-Chicago-Speakers-and-Workshop-Series&page=1&fields=&order=time&desc=false&status=upcoming&sig_id=145924542&sig=0a37411fcdbd478c336e048d3b841a6de8b24ff0'});$('#new-york-meetup-events').meetupEventFetcher({signedUrl:'https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_urlname=DBC-NYC&page=1&fields=&order=time&desc=false&status=upcoming&sig_id=145924542&sig=a1b7e14b32257516c3003b308d909a38c2e5c7b1'});$('#san-diego-meetup-events').meetupEventFetcher({signedUrl:'https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_urlname=Dev-Bootcamp-San-Diego&page=1&fields=&order=time&desc=false&status=upcoming&sig_id=145924542&sig=4621ffe6e8ca2aecadcaef51123c3072a0a1137b'});$('#download-syllabus-form').on('submit',function(evt){var $form=$(this);var isFormValid=true;var $emailInput=$form.find('#email');var $formErrors=$form.find('#download-syllabus-form-errors');$formErrors.removeClass('d-b');if($form.find('#first_name').val().length<3||$form.find('#last_name').val().length<3){isFormValid=false;}
if($emailInput.val().length<5||$emailInput.val().indexOf('@')===-1||$emailInput.val().indexOf('.')===-1){isFormValid=false;}
if($form.find('#00N1a0000079Ng3').val().length===0){isFormValid=false;}
if(!isFormValid){evt.preventDefault();$formErrors.addClass('d-b');}});}
else if($('main').is('#individual-location')){$('.hook--staff-member-bio').hide();$('#interactive-staff-list').on('click','.hook--staff-member-toggle',function(evt){evt.preventDefault();$(this).next('.hook--staff-member-bio').stop().slideToggle();$(this).find('.hook--staff-member-toggle-icon').toggleClass('fa-angle-down fa-angle-up');});if($('#chicago-meetup-events').length){$('#chicago-meetup-events').meetupEventFetcher({signedUrl:'https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_urlname=Chicago-DevBootcamp-Chicago-Speakers-and-Workshop-Series&page=3&fields=&order=time&desc=false&status=upcoming&sig_id=145924542&sig=54098264f7a9dcc595163568cac42fe94ff8e8ac'});}
else if($('#new-york-meetup-events').length){$('#new-york-meetup-events').meetupEventFetcher({signedUrl:'https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_urlname=DBC-NYC&page=3&fields=&order=time&desc=false&status=upcoming&sig_id=145924542&sig=f6841ef9b36930037d65535c63846b69b779c31e'});}
else if($('#san-francisco-meetup-events').length){$('#san-francisco-meetup-events').meetupEventFetcher({signedUrl:'https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_urlname=DBCx-SF-Dev-Bootcamp-San-Francisco-Open-Learning&page=3&fields=&order=time&desc=false&status=upcoming&sig_id=145924542&sig=16f8f18a0cfd2609b6411f39d4817086004dfc78'});}
else if($('#san-diego-meetup-events').length){$('#san-diego-meetup-events').meetupEventFetcher({signedUrl:'https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_urlname=Dev-Bootcamp-San-Diego&page=3&fields=&order=time&desc=false&status=upcoming&sig_id=145924542&sig=8f51ad4a693fd70fd7b38026c01475c2402b2448'});}}
else if($('main').is('#events')){$('#chicago-meetup-events').meetupEventFetcher({signedUrl:'https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_urlname=Chicago-DevBootcamp-Chicago-Speakers-and-Workshop-Series&page=6&fields=&order=time&desc=false&status=upcoming&sig_id=145924542&sig=4c1a6c73b179bbcd44ac7b012edd486368bbd54b'});$('#new-york-meetup-events').meetupEventFetcher({signedUrl:'https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_urlname=DBC-NYC&page=6&fields=&order=time&desc=false&status=upcoming&sig_id=145924542&sig=a434ab1082e89f1539bc11c6f13c5b9b4f71d311'});$('#san-francisco-meetup-events').meetupEventFetcher({signedUrl:'https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_urlname=DBCx-SF-Dev-Bootcamp-San-Francisco-Open-Learning&page=6&fields=&order=time&desc=false&status=upcoming&sig_id=145924542&sig=2b304e677bb16deee31bb9eac45f3580f251ac16'});$('#san-diego-meetup-events').meetupEventFetcher({signedUrl:'https://api.meetup.com/2/events?offset=0&format=json&limited_events=False&group_urlname=Dev-Bootcamp-San-Diego&page=6&fields=&order=time&desc=false&status=upcoming&sig_id=145924542&sig=29f41dace8b943bf3e68b440910e03606bc39d35'});}
else if($('main').is('#careers')){$('.hook--staff-member-bio').hide();$('#interactive-staff-list').on('click','.hook--staff-member-toggle',function(evt){evt.preventDefault();$(this).next('.hook--staff-member-bio').stop().slideToggle();$(this).find('.hook--staff-member-toggle-icon').toggleClass('fa-angle-down fa-angle-up');});}
else if($('main').is('#apply')){var $newApplicationForm=$('#new-application');var $desiredLocation=$('input[name="location"]');var isNewApplicationHappy=false;var $existingApplicationForm=$('#existing-application');var isExistingApplicationHappy=false;var disableFormInputs=function($form){$form.find(':input:not(:disabled)').prop('disabled',true);};var enableFormInputs=function($form){$form.find(':input:disabled').prop('disabled',false);};var hideValidationError=function($errorContainer){$errorContainer.removeClass('d-b').addClass('d-n');};var populateStartDates=function(locationSelector){var cohorts=[{"name":"Rock Doves","remote":"1/18/2016","onsite":"3/21/2016","chicago":"closed","nyc":"closed","sf":"closed","sd":"closed","sea":"closed","aus":"closed"},{"name":"Fiery Skippers","remote":"2/8/2016","onsite":"4/11/2016","chicago":"closed","nyc":"closed","sf":"closed","sd":"closed","sea":"closed","aus":"closed"},{"name":"Pocket Gophers","remote":"2/29/2016","onsite":"5/2/2016","chicago":"closed","nyc":"closed","sf":"closed","sd":"closed","sea":"closed","aus":"closed"},{"name":"Nighthawks","remote":"3/21/2016","onsite":"5/23/2016","chicago":"closed","nyc":"closed","sf":"closed","sd":"closed","sea":"closed","aus":"closed"},{"name":"Golden Bears","remote":"4/11/2016","onsite":"6/13/2016","chicago":"open","nyc":"open","sf":"open","sd":"closed","sea":"open","aus":"closed"},{"name":"Red Pandas","remote":"5/2/2016","onsite":"7/11/2016","chicago":"open","nyc":"open","sf":"open","sd":"closed","sea":"closed","aus":"open"},{"name":"Salamanders","remote":"5/23/2016","onsite":"8/1/2016","chicago":"open","nyc":"open","sf":"open","sd":"open","sea":"closed","aus":"closed"},{"name":"Wolves","remote":"6/13/2016","onsite":"8/22/2016","chicago":"open","nyc":"open","sf":"open","sd":"closed","sea":"closed","aus":"closed"},{"name":"Bobolinks","remote":"7/11/2016","onsite":"9/12/2016","chicago":"open","nyc":"open","sf":"open","sd":"closed","sea":"open","aus":"closed"}];var location=$(locationSelector).val().toLowerCase();var initial_select='<option value="" selected disabled>Select an option</option>';function fix_chicago(cohort){cohort.chi=cohort.chicago;}
var options=cohorts.map(function(cohort){fix_chicago(cohort);var display_value=cohort.name+" ("+ cohort.remote+"): "+ cohort[location];var disabled=cohort[location]=='closed'?' disabled="disabled"':'';return'<option value="'+ cohort.remote+'"'+ disabled+'>'+ display_value+'</option>';});$("#desired-start-date").html(initial_select);$("#desired-start-date").append(options);};var displayValidationError=function($errorContainer,errorMsg,backgroundColorClass){$errorContainer.text(errorMsg).removeClass('d-n bgc-form-validation-alert bgc-form-validation-error bgc-form-validation-success').addClass('d-b '+ backgroundColorClass);};$('#heard-how-select').on('change',function(){var $heardHowOtherContainer=$('#heard-how-other-container');var $heardHowOtherInput=$heardHowOtherContainer.find('#heard-how-other-input');var selectValue=$(this).val().toLowerCase();if(selectValue==='other'){$heardHowOtherContainer.removeClass('d-n').addClass('d-b');}
else{$heardHowOtherContainer.removeClass('d-b').addClass('d-n');$heardHowOtherInput.val('');}});$newApplicationForm.on('change','input[name="location"]',function(event){populateStartDates(event.target);});populateStartDates($desiredLocation);$newApplicationForm.isHappy({fields:{'#new-name-input':{required:true,test:function(val){var isNameValid=/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/.test(val);return isNameValid;},message:'Enter your first and last names as such: Firstname Lastname'},'#new-email-input':{required:true,test:function(val){var isEmailValid=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(val);return isEmailValid;},message:'Enter your email address as such: firstname.lastname@email.com'},'#heard-how-select':{required:true}},happy:function(){isNewApplicationHappy=true;},unHappy:function(){isNewApplicationHappy=false;}});$newApplicationForm.on('submit',function(evt){var $errorsContainer=$('#new-application-errors');var formData={};if(isNewApplicationHappy){evt.preventDefault();$.each($newApplicationForm.serializeArray(),function(i,field){formData[field.name]=field.value||"";});console.log(formData);hideValidationError($errorsContainer);disableFormInputs($newApplicationForm);$.ajax({url:"https://enroll.devbootcamp.com/api/v1/accounts",jsonp:"callback",dataType:"jsonp",data:formData}).done(function(response){console.log(response);if(response.success){console.log(response.application_url);mixpanel.alias(response.account_id.toString());mixpanel.track("Application Started",{'account_id':response.account_id});dataLayer.push({'event':'GAevent','eventCategory':'Application','eventAction':'Application Started'});setTimeout(function(){window.location.replace(response.application_url);},450);}
else{switch(response.code){case 10002:console.log('Email is already in use -- recover your application link below.');displayValidationError($errorsContainer,'Hey, it looks like you\'ve already begun applying! Use the form below to recover your personalized application link.','bgc-form-validation-alert');break;case 10003:console.log('Invalid data');displayValidationError($errorsContainer,'Oops! Something went wrong with some of your data. Please double-check everything and try again.','bgc-red');break;default:console.log('Internal server error');displayValidationError($errorsContainer,'Oops! Something went wrong with some of your data. Please double-check everything and try again.','bgc-red');}}}).fail(function(){displayValidationError($errorsContainer,'Oops! Something went wrong with some of your data. Please double-check everything and try again.','bgc-red');}).always(function(){enableFormInputs($newApplicationForm);});}});$existingApplicationForm.isHappy({fields:{'#existing-email-input':{required:true,test:function(val){var isEmailValid=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(val);return isEmailValid;},message:'Enter your email address as such: firstname.lastname@email.com'}},happy:function(){isExistingApplicationHappy=true;},unHappy:function(){isExistingApplicationHappy=false;}});$existingApplicationForm.on('submit',function(evt){var $errorsContainer=$('#existing-application-errors');var formData={email:$existingApplicationForm.find('input[name=email]').val()};if(isExistingApplicationHappy){evt.preventDefault();hideValidationError($errorsContainer);disableFormInputs($existingApplicationForm);$.ajax({url:"https://enroll.devbootcamp.com/api/v1/accounts/recover",jsonp:"callback",dataType:"jsonp",data:formData}).done(function(response){console.log(response);if(response.success){console.log("We've emailed you a recovery link.");displayValidationError($errorsContainer,'Welcome back! We\'ve emailed you a link to your application.','bgc-form-validation-success');}
else{switch(response.code){case 10002:console.log('Email is already in use -- recover your application link below.');displayValidationError($errorsContainer,'We couldn\'t find your email address! Please begin a new application instead.','bgc-form-validation-alert');break;default:console.log('Internal server error');displayValidationError($errorsContainer,'Oops! Something went wrong with some of your data. Please double-check everything and try again.','bgc-red');}}}).fail(function(){displayValidationError($errorsContainer,'Oops! Something went wrong with some of your data. Please double-check everything and try again.','bgc-red');}).always(function(){enableFormInputs($existingApplicationForm);});}});}
else if($('main').is('#learn-ruby-javascript-overview')){lpTag.vars.push({scope:'page',name:'Section',value:'learnruby'});console.log(lpTag.vars);}
else if($('main').is('#learn-ruby-javascript-curriculum')){lpTag.vars.push({scope:'page',name:'Section',value:'curriculum'});console.log(lpTag.vars);}
else if($('main').is('#tuition')){lpTag.vars.push({scope:'page',name:'Section',value:'tuition'});console.log(lpTag.vars);}
else if($('main').is('#schedule')){lpTag.vars.push({scope:'page',name:'Section',value:'schedule'});console.log(lpTag.vars);}
else if($('main').is('#podcast')){console.log('podcast');}